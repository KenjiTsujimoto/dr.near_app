<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <style>
    .angular-google-map-container {
      width: 100%;
      height: 504px;
  }
  </style>

  <link href="/css/preview-frame.css" rel="stylesheet">
  <link href="lib/ionic/css/ionic.css" rel="stylesheet">

  <!-- ionic/angularjs js -->
  <script src="lib/ionic/js/ionic.bundle.js"></script>
  <script src="js/app.js"></script>
    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
-->


<script>
// Ionic Starter App

// angular.module is a global place for creating, registering and retrieving Angular modules
// 'starter' is the name of this angular module example (also set in a <body> attribute in index.html)
// the 2nd parameter is an array of 'requires'
// 'starter.services' is found in services.js
// 'starter.controllers' is found in controllers.js
//angular.module('app', ['ionic'])
//↓追加
var module = angular.module( 'Myapp', ['ionic'] );
module.controller( 'MyController', ['$scope',
    function($scope){
        $scope.users = [
        { 
          name : "Nakagawa Shintaro", 
          position : "patient",
          diseases : "Hand-Schuller-Christain", 
          medicine :"Grivec"},
        ];
        $scope.timelines = [
        { 
          title: "medicine", 
          comment:"I'm not much better,and there is a little hope of recovery",
          userphoto :"user photo"}
        ];
        $scope.messages = [
        { 
          name: "Miyazaki Hayao"}
        ];

        $scope.diseases = [ 
        { 
          name: 'Distal Myopathy', 
          medicines: [ 
            { name: 'medicine1', 
              users: [ 
                { name: 'userA' }, 
                { name: 'userB' }, 
                { name: 'userC'} 
              ] 
            },
            { name: 'medicine2', 
              users: [ 
                { name: 'userD' }, 
                { name: 'userE' } 
              ] 
            },
            { name: 'medicine3', 
              users: [ { name: 'userF' } 
              ] 
            },
            { name: 'medicine4',
              users: [ { name: 'userG' } 
              ] 
            },
            { name: 'medicine5', 
              users: [ { name: 'userH' } 
              ] 
            } 
          ] 
        },

        { 
          name: 'Hand-Schuller-Christain disease', 
          medicines: [ 
            { name: 'medicine6', 
              users: [ 
                { name: 'userI' } 
              ] 
            } 
          ]  
        },

        { name: 'muscular dystrophy',
          medicines:[ 
            { name: 'medicine7', 
              users: [ 
                { name: 'userJ' }
              ] 
            },
            { name: 'medicine8', 
              users: [ { name: 'userK' } 
              ] 
            },
            { name: 'medicine9', 
              users: [ { name: 'userL' } 
              ] 
            } 
          ] 
        },
       ];
    } ] )
module.controller( 'MessageController', ['$scope',
    function($scope){
        $scope.messages = [
        { 
          name : "Nakagawa Shintaro", 
          body : "Party hard - this is YOUR day, and only yours! Happy Birthday!",
          photo : "Userphoto", },
        ];
    } ] )
module.controller( 'DiseaseController', ['$scope',
    function($scope){
        $scope.diseases = [
        { 
          name : "Distal Myopathy", 
          medicine : "MIDAZOLAM,",
          photo : "Userphoto", },
        ];
    } ] )
module.controller( 'MedicineController', ['$scope',
    function($scope){
        $scope.medicines = [
        { 
          company : "Novartis Pharma", 
          medicine : "Glivec", },
        ];
    } ] )

.run(function($ionicPlatform) {
  $ionicPlatform.ready(function() {
    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
    // for form inputs)
  if(window.cordova && window.cordova.plugins.Keyboard) {
      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
  }
  if(window.StatusBar) {
      // org.apache.cordova.statusbar required
      StatusBar.styleDefault();
  }
});
})

.config(function($stateProvider, $urlRouterProvider) {

  // Ionic uses AngularUI Router which uses the concept of states
  // Learn more here: https://github.com/angular-ui/ui-router
  // Set up the various states which the app can be in.
  // Each state's controller can be found in controllers.js
  $stateProvider

   .state('login1', {
      url: '/login',
      templateUrl: 'login1.html'
    })

  .state('signup1', {
      url: '/signup',
      templateUrl: 'signup1.html'
    })

  .state('messages1', {
      url: '/messages',
      templateUrl: 'messages1.html'
    })

  .state('disease1', {
      url: '/disease',
      templateUrl: 'disease1.html'
    })

  .state('medicine1', {
      url: '/medicine',
      templateUrl: 'medicine1.html'
    })
  
  .state('page16', {
      url: '/page16',
      templateUrl: 'page16.html'
  })

  .state('home', {
      url: '/home',
      templateUrl: 'home.html'
  });

  // if none of the above states are matched, use this as the fallback
  
  $urlRouterProvider.otherwise('/home');
  
});


</script>
</head>
<body ng-app="Myapp" animation="slide-left-right-ios7">
  <div>
    <div>
        <ion-nav-view>
        </ion-nav-view>
        <div class="bar bar-header">
        <button class="button button-icon icon ion-navicon"></button>
        <div class="h1 title">Dr.near</div>
        <img src="../images/logo.jpg" alt="logo">
</div>
</div>
</div>

<script id="login1.html" type="text/ng-template">
<ion-view title="Login">
    <ion-content padding="true" class="has-header">
        <form>
            <div class="spacer" style="height: 100px;"></div>
            <ion-list>
                <label class="item item-input">
                    <span class="input-label">Username</span>
                    <input type="text" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Password</span>
                    <input type="password" placeholder="">
                </label>
            </ion-list>
            <div class="spacer" style="height: 40px;"></div>
            <a href="#/home" button class="button button-stable button-block">Log in</button>
            <a href="#/signup" class="button button-positive button-clear button-block">Or create an account</a>
        </form>
    </ion-content>
</ion-view></script>

<script id="signup1.html" type="text/ng-template">
<ion-view title="Signup">
    <ion-content padding="true" scroll="false" class="has-header">
        <form>
            <ion-list>
                <label class="item item-input">
                    <span class="input-label">Name</span>
                    <input type="text" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Username</span>
                    <input type="text" placeholder="">
                </label>
                <label class="item item-input">
                    <span class="input-label">Password</span>
                    <input type="text" placeholder="">
                </label>
            </ion-list>
            <button class="button button-stable button-block">Sign up</button>
        </form>
    </ion-content>
</ion-view></script>

<script id="messages1.html" type="text/ng-template">
<div ng-controller="MyController">
<div class="messages">
    <ion-header-bar class="bar-stable">
        <h1 class="title">Messages</h1>
        <div class="buttons">
            <button class="button button-stable button-clear">Close</button>
        </div>
    </ion-header-bar>
    <ion-content padding="true" scroll="true" class="has-header">
        <ion-list>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2 ng-repeat="message in messages">{{message.name}}</h2>
                <h3 ng-repeat="message in messages">{{message.body}}</h3>
            </ion-item>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2>Title</h2>
            </ion-item>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2>Title</h2>
            </ion-item>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2>Title</h2>
            </ion-item>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2>Title</h2>
            </ion-item>
            <ion-item class="item-thumbnail-left">
                <img src="/img/avatar-img.png">
                <h2>Title</h2>
            </ion-item>
        </ion-list>
    </ion-content>
</div></div></script>

<script id="disease1.html" type="text/ng-template">
<div class="disease">
    <ion-header-bar class="bar-stable">
        <h1 class="title">Disease</h1>
        <div class="buttons">
            <button class="button button-stable button-clear">Close</button>
        </div>
    </ion-header-bar>
    <ion-content padding="true" scroll="false" class="has-header">
        <div style="line-height: 250px; border: 1px solid rgb(238, 238, 238); border-radius: 3px; text-align: center; background-color: rgb(255, 255, 255);">
            <i class="icon ion-image" style="font-size: 64px; color: rgb(136, 136, 136); vertical-align: middle;"></i>
        </div>
        <ion-list></ion-list>
        <button class="button button-stable button-block">Distal Myopasy</button>
        <h3>Medicine</h3>
        <ion-list>
            <ion-item>3←Medicine1</ion-item>
            <ion-item>user photo</ion-item>
            <ion-item>2←Medicine2</ion-item>
            <ion-item class="user photo">userphoto</ion-item>
            <ion-item>Item 2</ion-item>
            <ion-item>Item 3</ion-item>
        </ion-list>
    </ion-content>
</div></script>

<script id="medicine1.html" type="text/ng-template">
<div ng-controller="MedicineController">
<div class="medicine">
    <ion-header-bar class="bar-stable">
        <h1 class="title">Medicine</h1>
        <div class="buttons">
            <button class="button button-stable button-clear">Close</button>
        </div>
    </ion-header-bar>
    <ion-content padding="true" scroll="false" class="has-header">
        <ion-list></ion-list>
        <button class="button button-stable button-block">Grivec</button>
        <h3>Same disease</h3>
        <ion-list>
            <ion-item><b>Company nameーmedicine name</b></ion-item>
            <ion-item><p ng-repeat="medicine in medicines">{{medicine.company}}　ー　{{medicine.medicine}}</p>
            </ion-item>
            <ion-item>Sawai seiyaku - Imanitib sawai</ion-item>
        </ion-list>
    </ion-content>
</div></div></script>

<script id="page16.html" type="text/ng-template">
<ion-view title="Plus 1">
<ion-content padding="true" class="has-header">
<button class="button button-stable button-block">+add disease</button>
<button class="button button-stable button-block">+add medicine</button>
<button class="button button-stable button-block">+add condition</button>
</ion-content>
</ion-view></script>

<script id="home.html" type="text/ng-template">
  <ion-view title="Dr.near">
    <ion-tabs class="tabs-stable tabs-icon-top">
      <div ng-controller="MyController">
      <ion-tab title="Home" icon="ion-home">
        <ion-content padding="true" class="has-header">
          <ion-list>
            <ion-item class="item-thumbnail-left">
            <img src="/img/avatar-img.png">
            <div align="right">
              <button class="button button-clear button-positive icon ion-gear-b"></button>
              </div>
            <h2 ng-repeat="user in users">{{user.name}}</h2>
            <p ng-repeat="user in users">{{user.position}}</p>
            <h3 ng-repeat="user in users">{{user.diseases}}</h3>
            <h3 ng-repeat="user in users">{{user.medicine}}</h3>
            </ion-item>
          </ion-list>

          <div class="button-bar">
            <button class="button button-light ">Message</button>
          </div>
          <div class="spacer" style="width: 300px; height: 41px;"></div>

            <div class="timeline card">
            <div ng-repeat ="timeline in timelines">
              <div class="item item-divider">{{timeline.title}} was updated.</div>
              <div class="item item-body">{{timeline.comment}}</div>
              <div class="item item-avatar">
                <div align="right">
                <img src="mcfly.jpg">
                </div>
              </div>
            </div>
            </div>
        <div class="list card">
                <div class="item item-divider">Timeline2</div>
                <div class="item item-body">
                  <div>
                  <p>
                  <strong>checked diseasechecked diseasechecked diseasechecked diseasechecked disease</strong>
                  </p>
                  </div>
                </div>
              <div class="item item-divider">update photo(user or staff)2</div>
            </div>
          </ion-content>
        </ion-tab>

          <ion-tab title="Search" icon="ion-search">
          <ion-content padding="true" class="has-header">
            
                          <div>
                <div class="bar bar-header item-input-inset">
                  <label class="item-input-wrapper">
                  <i class="icon ion-ios7-search placeholder-icon"></i>
                  <input type="search" ng-model="keyword" placeholder="Please put it disease or medicine name">
                  </label>
                  <button class="button button-clear">
                  Cancel
                  </button>
                </div>
              </div>
          //　users・medicineを出力
              <div class="list card"> 
                <div class="item item-body">
                  <div class="button button-stable button-block" ng-repeat = "disease in diseases | filter:keyword" >
                  <ion-list>
                  <h2>{{ disease.name }}<button class="button icon-left ion-star button-positive"></button></h2>
                    <div ng-repeat = "medicine in disease.medicines">
                    <ion-item class="medicine"><h3>{{ medicine.name}}</h3></ion-item>
                      <span ng-repeat="user in medicine.users">{{user.name}}
                      </span>
                    </div>
                  </div>
                  </ion-list>
                </div>
              </div>
            
          </ion-content>
          </ion-tab>

<ion-tab title="alert" icon="ion-ios7-bell">
<ion-content padding="true" class="has-header">
<ion-list>
<ion-item>usernameからメッセージを受け取りました</ion-item>
<ion-item>興味のある病気に新しい処方箋が追加されました</ion-item>
<ion-item>病気にコンディション(副作用,状態)が追加されました</ion-item>
<ion-item>病気に()</ion-item>
<ion-item>Item 2</ion-item>
<ion-item>Item 3</ion-item>
</ion-list>
</ion-content>
</ion-tab>

</div>
</ion-tabs>
</ion-view></script>
</body>
</html>
